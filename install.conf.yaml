- plugins:
  - dotbot-plugins/git.py
  - dotbot-plugins/apt.py

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [sudo chown root:root "$(pwd)"/config-files/etc/wsl.conf, Making root owner of wsl.conf]
  - [sudo ln -f "$(pwd)"/config-files/etc/wsl.conf /etc/wsl.conf, Linking wsl.conf]
  - [ln -fs /mnt/c/Users/$(/mnt/c/Program\ Files/PowerShell/7/pwsh.exe -NoProfile -Command 'Write-Host $env:USERNAME -NoNewline') ~/win, Creating windows symbolic link]

- defaults:
    link:
      create: true
      relink: true

- link:
    ~/.gitconfig: ./config-files/gitconfig
    ~/.zshrc: ./config-files/zshrc
    ~/.vim/vimrc: ./config-files/vim/vimrc
    ~/.vim/colors/PaperColor.vim: ./config-files/vim/colors/PaperColor.vim
    ~/.local/bin/xdg-open: ./config-files/local/bin/xdg-open
    ~/.config/delta: ./config-files/config/delta
    ~/.config/bat/config: ./config-files/config/bat/config
    ~/.config/mise: ./config-files/config/mise
    ~/.config/eza: ./config-files/config/eza
    ~/.config/tmux: ./config-files/config/tmux/
    ~/.my: ./config-files/my
    ~/data:
      path: /mnt/wsl/data
      ignore-missing: true
    ~/.config/home-manager/flake.nix:
      type: hardlink
      path: ./config-files/config/home-manager/flake.nix
    ~/.config/home-manager/home.nix:
      type: hardlink
      path: ./config-files/config/home-manager/home.nix

- defaults:
    git:
      depth: 1
      create_parents: true

- git:
    ~/.zsh/zsh-autosuggestions: https://github.com/zsh-users/zsh-autosuggestions
    ~/.zsh/zsh-syntax-highlighting: https://github.com/zsh-users/zsh-syntax-highlighting.git
    ~/.zsh/zsh-vi-mode: https://github.com/jeffreytse/zsh-vi-mode.git
    ~/.config/nvim:
      repository: https://github.com/wcs7777/neovimrc.git
      depth:

- defaults:
    apt:
      reinstall: false
      batch_mode: true

- apt:
  - apt-transport-https
  - autoconf
  - automake
  - build-essential
  - ca-certificates
  - curl
  - file
  - fuse
  - git
  - gnupg
  - libffi-dev
  - libicu-dev
  - libncurses-dev
  - libreadline-dev
  - libssl-dev
  - libxml2-dev
  - libxslt-dev
  - libyaml-dev
  - man-db
  - odbcinst
  - python3-pip
  - python3-venv
  - ssh
  - tmux
  - tree
  - unzip
  - vim-gtk3
  - wget
  - zip
  - zsh

- shell:
  -
    command: source ./install-scripts/nix.sh
    description: Installing nix
    stdin: true
    stdout: true
    stderr: true
  - [source ./install-scripts/mise.sh, Installing mise]
  - [source ./install-scripts/docker.sh, Installing docker]
  - [source ./install-scripts/nvim.sh, Installing nvim]
  - [~/.local/bin/nvim --headless "+Lazy! install" +qa, Installing Lazy plugins]
